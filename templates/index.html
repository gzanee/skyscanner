<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Flight Booking - Cerca Voli</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
</head>
<body>
  <div class="app">
    <header class="app-header">
      <h1>‚úà Flight Booking</h1>
      <p>Cerca voli economici con la stessa logica dell'app originale, in versione web.</p>
    </header>

    <section class="card search-card">
      <form id="search-form">
        <div class="trip-options">
          <span class="trip-label">Tipo viaggio</span>
          <label class="trip-choice">
            <input type="radio" name="trip-type" value="one-way" checked />
            Solo andata
          </label>
          <label class="trip-choice">
            <input type="radio" name="trip-type" value="round-trip" />
            Andata e ritorno
          </label>
        </div>

        <div class="form-row">
          <div class="field">
            <label>Da (puoi aggiungere pi√π aeroporti)</label>
            <div class="airport-selector" data-allow-everywhere="false" id="origin-selector">
              <div class="tags"></div>
              <input type="text" placeholder="Cerca aeroporto..." />
              <ul class="dropdown"></ul>
            </div>
          </div>

          <button type="button" class="swap" id="swap-btn" aria-label="Scambia aeroporti">‚áÑ</button>

          <div class="field">
            <label>A (puoi aggiungere pi√π aeroporti)</label>
            <div class="airport-selector" data-allow-everywhere="true" id="dest-selector">
              <div class="tags"></div>
              <input type="text" placeholder="Cerca o lascia vuoto per Ovunque" />
              <ul class="dropdown"></ul>
            </div>
          </div>

          <div class="field date-field">
            <label>Data Partenza</label>
            <input type="date" id="depart-date" value="" />
          </div>

          <div class="field date-field return-only" id="return-date-field">
            <label>Data Ritorno</label>
            <input type="date" id="return-date" value="" />
          </div>

          <div class="field action-field">
            <button type="submit" id="search-btn">üîç Cerca Voli</button>
          </div>
        </div>

        <div class="filters">
          <div class="field inline checkbox">
            <input type="checkbox" id="direct-only" />
            <label for="direct-only">Solo voli diretti</label>
          </div>
        </div>

        <div class="filters-subsection">
          <h4 class="subsection-title">Prezzi</h4>
          <div class="subsection-content">
            <div class="field inline">
              <label for="max-price">Andata max ‚Ç¨</label>
              <input type="number" id="max-price" min="0" placeholder="Nessun limite" />
            </div>

            <div class="field inline return-only" id="return-price-field">
              <label for="max-price-return">Ritorno max ‚Ç¨</label>
              <input type="number" id="max-price-return" min="0" placeholder="Nessun limite" />
            </div>

            <div class="field inline return-only" id="total-price-field">
              <label for="max-price-total">Totale max ‚Ç¨</label>
              <input type="number" id="max-price-total" min="0" placeholder="Nessun limite" />
            </div>
          </div>
        </div>

        <!-- SOTTOCATEGORIA ORARI -->
        <div class="filters-subsection">
          <h4 class="subsection-title">Orari</h4>
          <div class="subsection-content">
            <div class="subsection-group">
              <span class="subsection-group-title">Andata</span>
              <div class="time-slider-field">
                <label>Orario di partenza</label>
                <div class="time-slider-box">
                  <div class="time-range-slider" id="time-range-slider-departure">
                    <div class="time-range-track"></div>
                    <div class="time-range-selected"></div>
                    <div class="time-range-thumb thumb-min" data-tooltip="00:00"></div>
                    <div class="time-range-thumb thumb-max" data-tooltip="24:00"></div>
                  </div>
                  <div class="time-range-labels">
                    <span class="time-label-min">00:00</span>
                    <span class="time-label-max">24:00</span>
                  </div>
                </div>
              </div>

              <div class="time-slider-field">
                <label>Orario di arrivo</label>
                <div class="time-slider-box">
                  <div class="time-range-slider" id="time-range-slider-arrival">
                    <div class="time-range-track"></div>
                    <div class="time-range-selected"></div>
                    <div class="time-range-thumb thumb-min" data-tooltip="00:00"></div>
                    <div class="time-range-thumb thumb-max" data-tooltip="24:00"></div>
                  </div>
                  <div class="time-range-labels">
                    <span class="time-label-min">00:00</span>
                    <span class="time-label-max">24:00</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="subsection-group return-only" id="return-time-group">
              <span class="subsection-group-title">Ritorno</span>
              <div class="time-slider-field">
                <label>Orario di partenza</label>
                <div class="time-slider-box">
                  <div class="time-range-slider" id="time-range-slider-return-departure">
                    <div class="time-range-track"></div>
                    <div class="time-range-selected"></div>
                    <div class="time-range-thumb thumb-min" data-tooltip="00:00"></div>
                    <div class="time-range-thumb thumb-max" data-tooltip="24:00"></div>
                  </div>
                  <div class="time-range-labels">
                    <span class="time-label-min">00:00</span>
                    <span class="time-label-max">24:00</span>
                  </div>
                </div>
              </div>

              <div class="time-slider-field">
                <label>Orario di arrivo</label>
                <div class="time-slider-box">
                  <div class="time-range-slider" id="time-range-slider-return-arrival">
                    <div class="time-range-track"></div>
                    <div class="time-range-selected"></div>
                    <div class="time-range-thumb thumb-min" data-tooltip="00:00"></div>
                    <div class="time-range-thumb thumb-max" data-tooltip="24:00"></div>
                  </div>
                  <div class="time-range-labels">
                    <span class="time-label-min">00:00</span>
                    <span class="time-label-max">24:00</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Checkbox spostato qui -->
          <div class="subsection-options">
            <div class="field inline checkbox">
              <input type="checkbox" id="same-day" checked />
              <label for="same-day">Arrivo stesso giorno</label>
            </div>
          </div>

          <!-- Hidden inputs -->
          <input type="hidden" id="min-hour" value="0" />
          <input type="hidden" id="max-hour" value="24" />
          <input type="hidden" id="min-arrival-hour" value="0" />
          <input type="hidden" id="max-arrival-hour" value="24" />
        </div>

        <input type="hidden" id="return-min-hour" value="0" />
        <input type="hidden" id="return-max-hour" value="24" />
        <input type="hidden" id="return-min-arrival-hour" value="0" />
        <input type="hidden" id="return-max-arrival-hour" value="24" />
      </form>
    </section>

    <section class="status">
      <div>
        <h2 id="status-title">Seleziona il tuo volo</h2>
        <p id="status-subtitle"></p>
      </div>
      <div class="stats" id="stats"></div>
    </section>

    <section class="sort-bar">
      <span>Ordina per:</span>
      <label><input type="radio" name="sort" value="prezzo" checked /> Prezzo</label>
      <label><input type="radio" name="sort" value="orario" /> Orario</label>
      <label><input type="radio" name="sort" value="durata" /> Durata</label>
    </section>

    <section class="results" id="results"></section>
  </div>

  <script src="{{ url_for('static', filename='app.js') }}"></script>
</body>
</html>
